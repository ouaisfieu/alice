<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1.0">
<title>FAKE NEWS × PAC-G — Interface intégrée</title>

<style>
:root{
--bg:#070b14;--panel:#121a2f;--border:#25335a;
--green:#7bed9f;--purple:#c77dff;--red:#ff6b6b;--blue:#4ecdc4
}
*{margin:0;padding:0;box-sizing:border-box}
body{font-family:Courier New,monospace;background:var(--bg);color:#e6e6e6}
header{padding:36px 20px;border-bottom:3px solid var(--green);position:relative;overflow:hidden}
header::after{content:"";position:absolute;inset:-200%;background:linear-gradient(120deg,transparent 45%,rgba(123,237,159,.15) 50%,transparent 55%);animation:sweep 8s linear infinite}
@keyframes sweep{to{transform:translateX(50%)}}
h1{color:var(--green);text-shadow:0 0 22px var(--green);letter-spacing:.04em}
.sub{opacity:.85;margin-top:8px}
.container{max-width:1600px;margin:auto;padding:20px}
.grid{display:grid;grid-template-columns:1.2fr .8fr;gap:20px}
@media(max-width:900px){.grid{grid-template-columns:1fr}}
.panel{background:var(--panel);border:2px solid var(--border);padding:20px;position:relative}
.panel.glow{box-shadow:0 0 40px rgba(199,125,255,.25)}
.badge{display:inline-block;font-size:11px;padding:4px 10px;border:1px solid var(--green);color:var(--green);margin-right:8px}
.stats{display:grid;grid-template-columns:repeat(4,1fr);gap:15px;margin-top:15px}
@media(max-width:700px){.stats{grid-template-columns:repeat(2,1fr)}}
.stat{background:#0c1224;border:1px solid var(--border);padding:16px;text-align:center}
.stat b{display:block;color:var(--green);font-size:34px;text-shadow:0 0 14px var(--green)}
.tabs{display:flex;gap:10px;flex-wrap:wrap;margin-bottom:15px}
.tab{border:2px solid var(--border);padding:10px 16px;cursor:pointer}
.tab.active{border-color:var(--green);color:var(--green);box-shadow:0 0 20px rgba(123,237,159,.25)}
.section{display:none}
.section.active{display:block;animation:fade .35s}
@keyframes fade{from{opacity:0;transform:translateY(10px)}to{opacity:1;transform:none}}
.cards{display:grid;grid-template-columns:repeat(auto-fit,minmax(260px,1fr));gap:15px}
.card{background:#0c1224;border:2px solid var(--border);padding:16px;cursor:pointer;transition:.25s}
.card:hover{border-color:var(--purple);transform:translateY(-4px);box-shadow:0 10px 30px rgba(199,125,255,.25)}
.title{color:var(--purple);font-weight:bold;margin-bottom:6px}
.diff{font-size:10px;padding:3px 8px;display:inline-block;margin-bottom:8px}
.easy{background:var(--green);color:#000}
.medium{background:#ffd43b;color:#000}
.hard{background:var(--red);color:#fff}
.meta{font-size:11px;opacity:.75}
button{background:none;border:2px solid var(--green);color:var(--green);padding:12px;width:100%;cursor:pointer}
button:hover{background:var(--green);color:#000;box-shadow:0 0 26px var(--green)}
button.alt{border-color:var(--purple);color:var(--purple)}
button.alt:hover{background:var(--purple);color:#000;box-shadow:0 0 26px var(--purple)}
.feed{max-height:420px;overflow:auto}
.event{border-left:3px solid var(--blue);background:#0c1224;margin-bottom:10px;padding:12px}
.event time{font-size:10px;opacity:.6}
.modal{display:none;position:fixed;inset:0;background:rgba(0,0,0,.92);z-index:999}
.modal.active{display:flex;align-items:center;justify-content:center}
.modal .box{background:var(--panel);border:3px solid var(--purple);padding:26px;max-width:900px;width:100%;box-shadow:0 0 60px rgba(199,125,255,.5)}
textarea{width:100%;min-height:140px;background:#070b14;color:#e6e6e6;border:2px solid var(--border);padding:14px}
.footer{opacity:.6;font-size:12px;text-align:center;padding:30px}
.logo{font-weight:bold;letter-spacing:.08em}
.pacg{color:var(--blue)}
</style>
</head>

<body>

<header>
  <h1>FAKE NEWS — INTERFACE PARTENAIRE</h1>
  <div class="sub">
    <span class="badge">ASYNCHRONE</span>
    <span class="badge">SANS MJ</span>
    <span class="badge">OPEN-SYSTEM</span>
    <span class="badge pacg">PAC-G INTÉGRÉ</span>
  </div>
</header>

<div class="container">
  <div class="grid">
    <div class="panel glow">
      <div class="tabs">
        <div class="tab active" data-t="missions">MISSIONS</div>
        <div class="tab" data-t="pacg">PROGRAMME PAC-G</div>
        <div class="tab" data-t="journal">JOURNAL</div>
        <div class="tab" data-t="profil">PROFIL</div>
      </div>

      <div class="section active" id="missions">
        <div class="cards" id="missionGrid"></div>
      </div>

      <div class="section" id="pacg">
        <div class="cards" id="pacgGrid"></div>
      </div>

      <div class="section" id="journal">
        <div class="feed" id="feed"></div>
      </div>

      <div class="section" id="profil">
        <div class="stats">
          <div class="stat"><b id="xp">0</b>XP</div>
          <div class="stat"><b id="done">0</b>MISSIONS</div>
          <div class="stat"><b id="rep">0</b>RÉPUTATION</div>
          <div class="stat"><b id="rank">RECRUE</b>STATUT</div>
        </div>
        <button class="alt" onclick="reset()">RÉINITIALISER LOCAL</button>
      </div>
    </div>

    <div class="panel">
      <div class="logo">MODULE TIERS</div>
      <p class="sub">Intégration directe — aucune redirection — aucune dépendance externe</p>
      <hr style="border-color:var(--border);margin:14px 0">
      <p style="font-size:13px;line-height:1.8">
        Le programme partenaire est intégré comme <b>couche fonctionnelle</b>.
        Les actions génèrent des traces, pas des scores.
      </p>
      <div class="stats">
        <div class="stat"><b id="pActs">0</b>ACTIONS PAC-G</div>
        <div class="stat"><b id="pNodes">12</b>NŒUDS</div>
        <div class="stat"><b id="pDocs">48</b>DOCS</div>
        <div class="stat"><b id="pFx">LIVE</b>STATUT</div>
      </div>
    </div>
  </div>
</div>

<div class="modal" id="modal">
  <div class="box">
    <h2 id="mTitle"></h2>
    <p id="mDesc" class="sub"></p>
    <textarea id="mText" placeholder="Décrire l’action, l’analyse, les preuves."></textarea>
    <button onclick="submit()">DÉCLARER</button>
    <button class="alt" onclick="closeM()">ANNULER</button>
  </div>
</div>

<div class="footer">
  Interface unifiée · Traçabilité locale · Compatibilité Éducation permanente · PANGO-INDEX
</div>

<script>
const state=JSON.parse(localStorage.getItem("fn_pacg"))||{xp:0,done:0,rep:0,events:[],pacts:0};
const missions=[
{t:"Détecter une fake news",d:"easy",xp:50,txt:"Identifier et expliquer un mécanisme de désinformation."},
{t:"Tracer une supply chain",d:"medium",xp:120,txt:"Remonter la chaîne d’un objet banal."},
{t:"Questionner une évidence",d:"hard",xp:180,txt:"Déconstruire une vérité admise."}
];
const pacg=[
{t:"Atelier d’analyse collective",d:"easy",xp:40,txt:"Structurer un débat outillé et documenté."},
{t:"Lecture critique d’un décret",d:"medium",xp:90,txt:"Analyser un cadre légal et ses effets."},
{t:"Production d’un outil citoyen",d:"hard",xp:160,txt:"Créer un livrable réutilisable (fiche, carte, guide)."}
];

const gridM=document.getElementById("missionGrid");
const gridP=document.getElementById("pacgGrid");
const feed=document.getElementById("feed");

function card(m,i,isPacg){
  const c=document.createElement("div");
  c.className="card";
  c.innerHTML=`<div class="title">${m.t}</div>
  <div class="diff ${m.d}">${m.d.toUpperCase()}</div>
  <div>${m.txt}</div>
  <div class="meta">+${m.xp} XP</div>`;
  c.onclick=()=>open(m,isPacg);
  return c;
}
missions.forEach((m,i)=>gridM.appendChild(card(m,i,false)));
pacg.forEach((m,i)=>gridP.appendChild(card(m,i,true)));

function update(){
  xp.textContent=state.xp;
  done.textContent=state.done;
  rep.textContent=state.rep;
  rank.textContent=state.xp>500?"AGENT":state.xp>200?"OBSERVATEUR":"RECRUE";
  pActs.textContent=state.pacts;
  localStorage.setItem("fn_pacg",JSON.stringify(state));
  feed.innerHTML="";
  state.events.slice().reverse().forEach(e=>{
    const d=document.createElement("div");
    d.className="event";
    d.innerHTML=`<time>${new Date(e.t).toLocaleString()}</time><div>${e.m}</div>`;
    feed.appendChild(d);
  });
}
update();

let cur=null,curPacg=false;
function open(m,isPacg){
  cur=m;curPacg=isPacg;
  mTitle.textContent=m.t;
  mDesc.textContent=m.txt;
  modal.classList.add("active");
}
function closeM(){modal.classList.remove("active");mText.value=""}
function submit(){
  if(!cur)return;
  state.xp+=cur.xp;
  state.done++;
  state.rep+=Math.ceil(cur.xp/20);
  if(curPacg)state.pacts++;
  state.events.push({t:Date.now(),m:`Action déclarée: ${cur.t}`});
  update();closeM();
}
function reset(){localStorage.removeItem("fn_pacg");location.reload()}

document.querySelectorAll(".tab").forEach(t=>t.onclick=()=>{
  document.querySelectorAll(".tab").forEach(x=>x.classList.remove("active"));
  document.querySelectorAll(".section").forEach(s=>s.classList.remove("active"));
  t.classList.add("active");
  document.getElementById(t.dataset.t).classList.add("active");
});
</script>

</body>
</html>
